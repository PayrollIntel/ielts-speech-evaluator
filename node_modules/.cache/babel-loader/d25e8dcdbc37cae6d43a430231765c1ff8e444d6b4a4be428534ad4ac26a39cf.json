{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\ielts-speech-evaluator\\\\src\\\\components\\\\SpeechEvaluator.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from \"react\";\nimport questionBank from \"../data/questions-corrected\";\nimport sampleAnswers from \"../data/sampleAnswers\";\nimport './SpeechEvaluator.css';\nimport { Bar } from 'react-chartjs-2';\nimport { Chart as ChartJS, BarElement, CategoryScale, LinearScale, Title, Tooltip, Legend } from 'chart.js';\nimport jsPDF from 'jspdf';\n\n// Register Chart.js components\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nChartJS.register(BarElement, CategoryScale, LinearScale, Title, Tooltip, Legend);\nconst getBandColor = band => {\n  if (band >= 8.5) return \"#2e7d32\";\n  if (band >= 7) return \"#388e3c\";\n  if (band >= 6.5) return \"#689f38\";\n  if (band >= 6) return \"#afb42b\";\n  if (band >= 5.5) return \"#f57f17\";\n  if (band >= 5) return \"#ff8f00\";\n  if (band >= 4) return \"#d32f2f\";\n  return \"#d32f2f\";\n};\nconst createIELTSTest = () => {\n  const availableTopics = [...questionBank.part1Topics];\n  const shuffledTopics = availableTopics.sort(() => Math.random() - 0.5);\n  const introTopic = shuffledTopics[0];\n  const introQuestions = [...introTopic.questions].sort(() => Math.random() - 0.5).slice(0, 2);\n  const secondTopic = shuffledTopics[1];\n  const secondQuestionsCount = Math.random() > 0.5 ? 2 : 3;\n  const secondQuestions = [...secondTopic.questions].sort(() => Math.random() - 0.5).slice(0, secondQuestionsCount);\n  let part1Questions = [];\n  introQuestions.forEach(q => part1Questions.push({\n    ...q,\n    topicName: introTopic.topicName,\n    part: 1,\n    expectedDuration: 30\n  }));\n  secondQuestions.forEach(q => part1Questions.push({\n    ...q,\n    topicName: secondTopic.topicName,\n    part: 1,\n    expectedDuration: 30\n  }));\n  const cueCards = [...questionBank.part2CueCards];\n  const selectedCueCard = cueCards[Math.floor(Math.random() * cueCards.length)];\n  const part2Question = {\n    ...selectedCueCard,\n    part: 2,\n    expectedDuration: 120,\n    preparationTime: 60\n  };\n  const relatedDiscussion = questionBank.part3Discussions.find(disc => disc.relatedToPart2 === selectedCueCard.id);\n  let part3Questions = [];\n  if (relatedDiscussion) {\n    const shuffledDiscQuestions = [...relatedDiscussion.questions].sort(() => Math.random() - 0.5);\n    const numQuestions = Math.floor(Math.random() * 3) + 4;\n    part3Questions = shuffledDiscQuestions.slice(0, numQuestions).map(q => ({\n      ...q,\n      part: 3,\n      topicTheme: relatedDiscussion.topicTheme,\n      expectedDuration: 60\n    }));\n  }\n  const allQuestions = [...part1Questions.map(q => ({\n    ...q,\n    prompt: q.prompt\n  })), {\n    ...part2Question,\n    prompt: part2Question.cueCard.mainPrompt\n  }, ...part3Questions.map(q => ({\n    ...q,\n    prompt: q.prompt\n  }))];\n  return {\n    testId: `ielts_test_${Date.now()}`,\n    title: `IELTS Speaking Test - ${new Date().toLocaleDateString()}`,\n    testStructure: {\n      part1: {\n        name: \"Part 1: Introduction & Interview\",\n        duration: \"4-5 minutes\",\n        questions: part1Questions,\n        topics: [introTopic.topicName, secondTopic.topicName]\n      },\n      part2: {\n        name: \"Part 2: Individual Long Turn\",\n        duration: \"3-4 minutes\",\n        question: part2Question,\n        cueCard: selectedCueCard.cueCard\n      },\n      part3: {\n        name: \"Part 3: Two-way Discussion\",\n        duration: \"4-5 minutes\",\n        questions: part3Questions,\n        theme: (relatedDiscussion === null || relatedDiscussion === void 0 ? void 0 : relatedDiscussion.topicTheme) || \"General Discussion\"\n      }\n    },\n    allQuestions,\n    totalQuestions: allQuestions.length\n  };\n};\n\n// Pronunciation Analyzer (class unchanged, omitted here for brevity)\n\nfunction SpeechEvaluator() {\n  _s();\n  // State declarations (as before)\n  const [currentTest, setCurrentTest] = useState(null);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [currentPart, setCurrentPart] = useState(1);\n  const [answers, setAnswers] = useState([]);\n  const [recording, setRecording] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [feedbacks, setFeedbacks] = useState(null);\n  const [testSummary, setTestSummary] = useState(null);\n  const [error, setError] = useState(null);\n  const [recordingTime, setRecordingTime] = useState(0);\n  const [showResults, setShowResults] = useState(false);\n  const [preparationTime, setPreparationTime] = useState(0);\n  const [isPreparingPart2, setIsPreparingPart2] = useState(false);\n  const [preparationNotes, setPreparationNotes] = useState(\"\");\n  const [autoStartRecording, setAutoStartRecording] = useState(false);\n  const [isComponentReady, setIsComponentReady] = useState(false);\n  const [initializationError, setInitializationError] = useState(null);\n  const [pronunciationAnalyzer, setPronunciationAnalyzer] = useState(null);\n  const [audioFeatures, setAudioFeatures] = useState({});\n  const [isAnalyzingPronunciation, setIsAnalyzingPronunciation] = useState(false);\n\n  // Refs as before: recognitionRef, recordingTimerRef, etc.\n\n  useEffect(() => {\n    const initializeComponent = async () => {\n      try {\n        const test = createIELTSTest();\n        setCurrentTest(test);\n        setAnswers(Array(test.totalQuestions).fill(\"\"));\n        const analyzer = new SimplePronunciationAnalyzer();\n        setPronunciationAnalyzer(analyzer);\n        setIsComponentReady(true);\n        setInitializationError(null);\n      } catch (error) {\n        console.error('Component initialization failed:', error);\n        setInitializationError('Failed to initialize speech evaluator. Please refresh the page.');\n        setIsComponentReady(true);\n      }\n    };\n    initializeComponent();\n  }, []);\n  if (!isComponentReady) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: initializationError || /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Setting up authentic IELTS format with auto-recording...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 33\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this);\n  }\n  if (!currentTest) return null;\n\n  // Band Chart data\n  const bandData = {\n    labels: ['Part 1', 'Part 2', 'Part 3'],\n    datasets: [{\n      label: 'IELTS Bands',\n      data: [(testSummary === null || testSummary === void 0 ? void 0 : testSummary.part1Band) || 0, (testSummary === null || testSummary === void 0 ? void 0 : testSummary.part2Band) || 0, (testSummary === null || testSummary === void 0 ? void 0 : testSummary.part3Band) || 0],\n      backgroundColor: [getBandColor(testSummary === null || testSummary === void 0 ? void 0 : testSummary.part1Band), getBandColor(testSummary === null || testSummary === void 0 ? void 0 : testSummary.part2Band), getBandColor(testSummary === null || testSummary === void 0 ? void 0 : testSummary.part3Band)]\n    }]\n  };\n\n  // Export PDF function (same as before)\n\n  // Other event handlers: startRecording, stopRecording, toggleRecording, navigation, submitTest, resetTest — keep your existing implementations\n\n  // Current part info logic as before\n  const currentPartInfo = (() => {\n    const part1Length = currentTest.testStructure.part1.questions.length;\n    const part2Index = part1Length;\n    if (currentQuestionIndex < part1Length) return {\n      part: 1,\n      info: currentTest.testStructure.part1\n    };\n    if (currentQuestionIndex === part2Index) return {\n      part: 2,\n      info: currentTest.testStructure.part2\n    };\n    return {\n      part: 3,\n      info: currentTest.testStructure.part3\n    };\n  })();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"speech-evaluator\",\n    children: [!showResults && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"test-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: currentTest.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"test-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"test-id\",\n            children: [\"Test ID: \", currentTest.testId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress\",\n            children: [\"Progress: \", answers.filter(a => a.trim() !== '').length, \" / \", currentTest.totalQuestions]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"test-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"part-indicator\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: currentPartInfo.info.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"part-duration\",\n            children: [\"Duration: \", currentPartInfo.info.duration]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this), currentPartInfo.part === 1 && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"part-description\",\n            children: [\"Topics: \", currentPartInfo.info.topics.join(\", \")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 45\n          }, this), currentPartInfo.part === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"part2-preparation-intro\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Part 2: Preparation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\uD83D\\uDCDD 1-minute preparation \\u2192 \\uD83C\\uDFA4 Auto-recording starts \\u2192 \\uD83D\\uDDE3\\uFE0F Speak for 1-2 minutes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 17\n          }, this), currentPartInfo.part === 3 && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"part-description\",\n            children: [\"Theme: \", currentPartInfo.info.theme]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 45\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"question-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"question-number\",\n              children: [\"Q\", currentQuestionIndex + 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this), currentPartInfo.part === 1 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"topic-badge\",\n              children: currentTest.allQuestions[currentQuestionIndex].topicName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 48\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"question-content\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: currentTest.allQuestions[currentQuestionIndex].prompt\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"duration-guide\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Approx. \", currentTest.allQuestions[currentQuestionIndex].expectedDuration || 30, \" seconds per answer\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recording-section\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: toggleRecording,\n            className: `record-button ${recording ? 'recording' : ''}`,\n            children: recording ? 'Stop Recording' : 'Start Recording'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"navigation-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"nav-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentQuestionIndex(currentQuestionIndex - 1),\n              disabled: currentQuestionIndex === 0,\n              className: \"btn btn-secondary\",\n              children: \"Previous\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentQuestionIndex(currentQuestionIndex + 1),\n              disabled: currentQuestionIndex >= currentTest.totalQuestions - 1,\n              className: \"btn btn-secondary\",\n              children: \"Next\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: submitTest,\n              disabled: loading || answers.filter(a => a.trim() !== '').length < currentTest.totalQuestions,\n              className: \"btn btn-primary\",\n              children: \"Submit Test\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-info\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Speaking Time: \", formatTime(recordingTime)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), showResults && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"results-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"IELTS Speaking Results\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"test-summary\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"band-scores-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"band-score\",\n            style: {\n              borderLeftColor: getBandColor(testSummary === null || testSummary === void 0 ? void 0 : testSummary.part1Band)\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Part 1 Band\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: (testSummary === null || testSummary === void 0 ? void 0 : testSummary.part1Band) || '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"band-score\",\n            style: {\n              borderLeftColor: getBandColor(testSummary === null || testSummary === void 0 ? void 0 : testSummary.part2Band)\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Part 2 Band\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: (testSummary === null || testSummary === void 0 ? void 0 : testSummary.part2Band) || '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"band-score\",\n            style: {\n              borderLeftColor: getBandColor(testSummary === null || testSummary === void 0 ? void 0 : testSummary.part3Band)\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Part 3 Band\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: (testSummary === null || testSummary === void 0 ? void 0 : testSummary.part3Band) || '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"band-score overall\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Overall Band\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: (testSummary === null || testSummary === void 0 ? void 0 : testSummary.overallBand) || '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"band-chart-wrapper\",\n        style: {\n          maxWidth: '450px',\n          margin: '30px auto'\n        },\n        children: /*#__PURE__*/_jsxDEV(Bar, {\n          data: bandData,\n          options: {\n            scales: {\n              y: {\n                min: 0,\n                max: 9,\n                ticks: {\n                  stepSize: 0.5\n                }\n              }\n            },\n            plugins: {\n              legend: {\n                display: false\n              }\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary export-pdf-btn\",\n        onClick: () => {\n          if (!testSummary) return;\n          const doc = new jsPDF();\n          doc.setFontSize(18);\n          doc.text('IELTS Speaking Test Feedback', 10, 10);\n          doc.setFontSize(14);\n          doc.text(`Part 1 Band: ${testSummary.part1Band}`, 10, 30);\n          doc.text(`Part 2 Band: ${testSummary.part2Band}`, 10, 40);\n          doc.text(`Part 3 Band: ${testSummary.part3Band}`, 10, 50);\n          doc.text(`Overall Band: ${testSummary.overallBand}`, 10, 60);\n          feedbacks === null || feedbacks === void 0 ? void 0 : feedbacks.forEach((fb, i) => {\n            var _sampleAnswers$find;\n            let y = 70 + i * 30;\n            doc.text(`Q${i + 1}: ${fb.question}`, 10, y);\n            doc.text(`Your Answer: ${fb.answer}`, 10, y + 10);\n            doc.text(`Feedback: ${fb.feedback}`, 10, y + 20);\n            const sample = (_sampleAnswers$find = sampleAnswers.find(sa => sa.question === fb.question)) === null || _sampleAnswers$find === void 0 ? void 0 : _sampleAnswers$find.sample;\n            if (sample) {\n              doc.text(`Sample Answer: ${sample}`, 10, y + 30);\n            }\n            if (y > 270) {\n              doc.addPage();\n              y = 20;\n            }\n          });\n          doc.save('IELTS-Speaking-Feedback.pdf');\n        },\n        children: \"Export Feedback as PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"detailed-feedback\",\n        children: feedbacks === null || feedbacks === void 0 ? void 0 : feedbacks.map((fb, i) => {\n          var _sampleAnswers$find2;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"feedback-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"Question \", i + 1, \": \", fb.question]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Your Answer:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 20\n              }, this), \" \", fb.answer]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Feedback:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 20\n              }, this), \" \", fb.feedback]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"sample-answer\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Sample Answer:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 46\n              }, this), \" \", ((_sampleAnswers$find2 = sampleAnswers.find(sa => sa.question === fb.question)) === null || _sampleAnswers$find2 === void 0 ? void 0 : _sampleAnswers$find2.sample) || \"Sample answer coming soon.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary retake-btn\",\n        onClick: () => {\n          setShowResults(false);\n          setFeedbacks(null);\n          setTestSummary(null);\n          setCurrentQuestionIndex(0);\n          setAnswers(Array(currentTest.totalQuestions).fill(''));\n          setCurrentPart(1);\n        },\n        children: \"Retake Test\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n}\n_s(SpeechEvaluator, \"wtEEbyRUO85Z5NrB3STSeptfL4A=\");\n_c = SpeechEvaluator;\nexport default SpeechEvaluator;\nvar _c;\n$RefreshReg$(_c, \"SpeechEvaluator\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","questionBank","sampleAnswers","Bar","Chart","ChartJS","BarElement","CategoryScale","LinearScale","Title","Tooltip","Legend","jsPDF","jsxDEV","_jsxDEV","Fragment","_Fragment","register","getBandColor","band","createIELTSTest","availableTopics","part1Topics","shuffledTopics","sort","Math","random","introTopic","introQuestions","questions","slice","secondTopic","secondQuestionsCount","secondQuestions","part1Questions","forEach","q","push","topicName","part","expectedDuration","cueCards","part2CueCards","selectedCueCard","floor","length","part2Question","preparationTime","relatedDiscussion","part3Discussions","find","disc","relatedToPart2","id","part3Questions","shuffledDiscQuestions","numQuestions","map","topicTheme","allQuestions","prompt","cueCard","mainPrompt","testId","Date","now","title","toLocaleDateString","testStructure","part1","name","duration","topics","part2","question","part3","theme","totalQuestions","SpeechEvaluator","_s","currentTest","setCurrentTest","currentQuestionIndex","setCurrentQuestionIndex","currentPart","setCurrentPart","answers","setAnswers","recording","setRecording","loading","setLoading","feedbacks","setFeedbacks","testSummary","setTestSummary","error","setError","recordingTime","setRecordingTime","showResults","setShowResults","setPreparationTime","isPreparingPart2","setIsPreparingPart2","preparationNotes","setPreparationNotes","autoStartRecording","setAutoStartRecording","isComponentReady","setIsComponentReady","initializationError","setInitializationError","pronunciationAnalyzer","setPronunciationAnalyzer","audioFeatures","setAudioFeatures","isAnalyzingPronunciation","setIsAnalyzingPronunciation","initializeComponent","test","Array","fill","analyzer","SimplePronunciationAnalyzer","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","bandData","labels","datasets","label","data","part1Band","part2Band","part3Band","backgroundColor","currentPartInfo","part1Length","part2Index","info","filter","a","trim","join","onClick","toggleRecording","disabled","submitTest","formatTime","style","borderLeftColor","overallBand","maxWidth","margin","options","scales","y","min","max","ticks","stepSize","plugins","legend","display","doc","setFontSize","text","fb","i","_sampleAnswers$find","answer","feedback","sample","sa","addPage","save","_sampleAnswers$find2","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/Desktop/ielts-speech-evaluator/src/components/SpeechEvaluator.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from \"react\";\nimport questionBank from \"../data/questions-corrected\";\nimport sampleAnswers from \"../data/sampleAnswers\";\nimport './SpeechEvaluator.css';\nimport { Bar } from 'react-chartjs-2';\nimport { Chart as ChartJS, BarElement, CategoryScale, LinearScale, Title, Tooltip, Legend } from 'chart.js';\nimport jsPDF from 'jspdf';\n\n// Register Chart.js components\nChartJS.register(BarElement, CategoryScale, LinearScale, Title, Tooltip, Legend);\n\nconst getBandColor = (band) => {\n  if (band >= 8.5) return \"#2e7d32\";\n  if (band >= 7) return \"#388e3c\";\n  if (band >= 6.5) return \"#689f38\";\n  if (band >= 6) return \"#afb42b\";\n  if (band >= 5.5) return \"#f57f17\";\n  if (band >= 5) return \"#ff8f00\";\n  if (band >= 4) return \"#d32f2f\";\n  return \"#d32f2f\";\n};\n\nconst createIELTSTest = () => {\n  const availableTopics = [...questionBank.part1Topics];\n  const shuffledTopics = availableTopics.sort(() => Math.random() - 0.5);\n\n  const introTopic = shuffledTopics[0];\n  const introQuestions = [...introTopic.questions].sort(() => Math.random() - 0.5).slice(0, 2);\n  const secondTopic = shuffledTopics[1];\n  const secondQuestionsCount = Math.random() > 0.5 ? 2 : 3;\n  const secondQuestions = [...secondTopic.questions].sort(() => Math.random() - 0.5).slice(0, secondQuestionsCount);\n\n  let part1Questions = [];\n  introQuestions.forEach(q => part1Questions.push({ ...q, topicName: introTopic.topicName, part: 1, expectedDuration: 30 }));\n  secondQuestions.forEach(q => part1Questions.push({ ...q, topicName: secondTopic.topicName, part: 1, expectedDuration: 30 }));\n\n  const cueCards = [...questionBank.part2CueCards];\n  const selectedCueCard = cueCards[Math.floor(Math.random() * cueCards.length)];\n  const part2Question = { ...selectedCueCard, part: 2, expectedDuration: 120, preparationTime: 60 };\n\n  const relatedDiscussion = questionBank.part3Discussions.find(disc => disc.relatedToPart2 === selectedCueCard.id);\n  let part3Questions = [];\n  if (relatedDiscussion) {\n    const shuffledDiscQuestions = [...relatedDiscussion.questions].sort(() => Math.random() - 0.5);\n    const numQuestions = Math.floor(Math.random() * 3) + 4;\n    part3Questions = shuffledDiscQuestions.slice(0, numQuestions).map(q => ({ ...q, part: 3, topicTheme: relatedDiscussion.topicTheme, expectedDuration: 60 }));\n  }\n\n  const allQuestions = [\n    ...part1Questions.map(q => ({ ...q, prompt: q.prompt })),\n    { ...part2Question, prompt: part2Question.cueCard.mainPrompt },\n    ...part3Questions.map(q => ({ ...q, prompt: q.prompt })),\n  ];\n\n  return {\n    testId: `ielts_test_${Date.now()}`,\n    title: `IELTS Speaking Test - ${new Date().toLocaleDateString()}`,\n    testStructure: {\n      part1: { name: \"Part 1: Introduction & Interview\", duration: \"4-5 minutes\", questions: part1Questions, topics: [introTopic.topicName, secondTopic.topicName] },\n      part2: { name: \"Part 2: Individual Long Turn\", duration: \"3-4 minutes\", question: part2Question, cueCard: selectedCueCard.cueCard },\n      part3: { name: \"Part 3: Two-way Discussion\", duration: \"4-5 minutes\", questions: part3Questions, theme: relatedDiscussion?.topicTheme || \"General Discussion\" }\n    },\n    allQuestions,\n    totalQuestions: allQuestions.length,\n  };\n};\n\n// Pronunciation Analyzer (class unchanged, omitted here for brevity)\n\nfunction SpeechEvaluator() {\n  // State declarations (as before)\n  const [currentTest, setCurrentTest] = useState(null);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [currentPart, setCurrentPart] = useState(1);\n  const [answers, setAnswers] = useState([]);\n  const [recording, setRecording] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [feedbacks, setFeedbacks] = useState(null);\n  const [testSummary, setTestSummary] = useState(null);\n  const [error, setError] = useState(null);\n  const [recordingTime, setRecordingTime] = useState(0);\n  const [showResults, setShowResults] = useState(false);\n  const [preparationTime, setPreparationTime] = useState(0);\n  const [isPreparingPart2, setIsPreparingPart2] = useState(false);\n  const [preparationNotes, setPreparationNotes] = useState(\"\");\n  const [autoStartRecording, setAutoStartRecording] = useState(false);\n  const [isComponentReady, setIsComponentReady] = useState(false);\n  const [initializationError, setInitializationError] = useState(null);\n  const [pronunciationAnalyzer, setPronunciationAnalyzer] = useState(null);\n  const [audioFeatures, setAudioFeatures] = useState({});\n  const [isAnalyzingPronunciation, setIsAnalyzingPronunciation] = useState(false);\n\n  // Refs as before: recognitionRef, recordingTimerRef, etc.\n\n  useEffect(() => {\n    const initializeComponent = async () => {\n      try {\n        const test = createIELTSTest();\n        setCurrentTest(test);\n        setAnswers(Array(test.totalQuestions).fill(\"\"));\n        const analyzer = new SimplePronunciationAnalyzer();\n        setPronunciationAnalyzer(analyzer);\n        setIsComponentReady(true);\n        setInitializationError(null);\n      } catch (error) {\n        console.error('Component initialization failed:', error);\n        setInitializationError('Failed to initialize speech evaluator. Please refresh the page.');\n        setIsComponentReady(true);\n      }\n    };\n    initializeComponent();\n  }, []);\n\n  if (!isComponentReady) {\n    return (\n      <div className=\"loading-container\">\n        {initializationError || <h2>Setting up authentic IELTS format with auto-recording...</h2>}\n      </div>\n    );\n  }\n\n  if (!currentTest) return null;\n\n  // Band Chart data\n  const bandData = {\n    labels: ['Part 1', 'Part 2', 'Part 3'],\n    datasets: [{\n      label: 'IELTS Bands',\n      data: [\n        testSummary?.part1Band || 0,\n        testSummary?.part2Band || 0,\n        testSummary?.part3Band || 0,\n      ],\n      backgroundColor: [\n        getBandColor(testSummary?.part1Band),\n        getBandColor(testSummary?.part2Band),\n        getBandColor(testSummary?.part3Band),\n      ],\n    }],\n  };\n\n  // Export PDF function (same as before)\n\n  // Other event handlers: startRecording, stopRecording, toggleRecording, navigation, submitTest, resetTest — keep your existing implementations\n\n  // Current part info logic as before\n  const currentPartInfo = (() => {\n    const part1Length = currentTest.testStructure.part1.questions.length;\n    const part2Index = part1Length;\n    if(currentQuestionIndex < part1Length) return { part: 1, info: currentTest.testStructure.part1 };\n    if(currentQuestionIndex === part2Index) return { part: 2, info: currentTest.testStructure.part2 };\n    return { part: 3, info: currentTest.testStructure.part3 };\n  })();\n\n  return (\n    <div className=\"speech-evaluator\">\n      {/* Your original test header & navigation, buttons, progress, question display, recording controls here using your CSS classes */}\n\n      {!showResults && (\n        <>\n          {/* Part and question info */}\n          <div className=\"test-header\">\n            <h1>{currentTest.title}</h1>\n            <div className=\"test-info\">\n              <div className=\"test-id\">Test ID: {currentTest.testId}</div>\n              <div className=\"progress\">Progress: {answers.filter(a => a.trim() !== '').length} / {currentTest.totalQuestions}</div>\n            </div>\n          </div>\n\n          <div className=\"test-content\">\n            <div className=\"part-indicator\">\n              <h2>{currentPartInfo.info.name}</h2>\n              <p className=\"part-duration\">Duration: {currentPartInfo.info.duration}</p>\n              {currentPartInfo.part ===1 && <p className=\"part-description\">Topics: {currentPartInfo.info.topics.join(\", \")}</p>}\n              {currentPartInfo.part ===2 && (\n                <div className=\"part2-preparation-intro\">\n                  <h3>Part 2: Preparation</h3>\n                  <p>📝 1-minute preparation → 🎤 Auto-recording starts → 🗣️ Speak for 1-2 minutes</p>\n                </div>\n              )}\n              {currentPartInfo.part ===3 && <p className=\"part-description\">Theme: {currentPartInfo.info.theme}</p>}\n            </div>\n\n            {/* Question display with question number, prompt, follow-ups etc. */}\n            <div className=\"question-section\">\n              <div className=\"question-header\">\n                <span className=\"question-number\">Q{currentQuestionIndex + 1}</span>\n                {currentPartInfo.part === 1 && <span className=\"topic-badge\">{currentTest.allQuestions[currentQuestionIndex].topicName}</span>}\n              </div>\n\n              <div className=\"question-content\">\n                <h3>{currentTest.allQuestions[currentQuestionIndex].prompt}</h3>\n                {/* Your answer recording textarea or display here */}\n              </div>\n\n              <div className=\"duration-guide\">\n                <span>Approx. {currentTest.allQuestions[currentQuestionIndex].expectedDuration || 30} seconds per answer</span>\n              </div>\n            </div>\n\n            <div className=\"recording-section\">\n              {/* Recording buttons styled using your CSS btn classes */}\n              <button onClick={toggleRecording} className={`record-button ${recording ? 'recording' : ''}`}>\n                {recording ? 'Stop Recording' : 'Start Recording'}\n              </button>\n            </div>\n\n            <div className=\"navigation-section\">\n              <div className=\"nav-buttons\">\n                <button onClick={() => setCurrentQuestionIndex(currentQuestionIndex - 1)} disabled={currentQuestionIndex === 0} className=\"btn btn-secondary\">Previous</button>\n                <button onClick={() => setCurrentQuestionIndex(currentQuestionIndex + 1)} disabled={currentQuestionIndex >= currentTest.totalQuestions - 1} className=\"btn btn-secondary\">Next</button>\n                <button onClick={submitTest} disabled={loading || answers.filter(a => a.trim() !== '').length < currentTest.totalQuestions} className=\"btn btn-primary\">Submit Test</button>\n              </div>\n\n              <div className=\"progress-info\">\n                <p>Speaking Time: {formatTime(recordingTime)}</p>\n              </div>\n\n              {error && <div className=\"error-message\">{error}</div>}\n            </div>\n          </div>\n        </>\n      )}\n\n      {showResults && (\n        <div className=\"results-container\">\n          <h2>IELTS Speaking Results</h2>\n\n          <div className=\"test-summary\">\n            <div className=\"band-scores-grid\">\n              <div className=\"band-score\" style={{borderLeftColor: getBandColor(testSummary?.part1Band)}}>\n                <span>Part 1 Band</span>\n                <span>{testSummary?.part1Band || '-'}</span>\n              </div>\n              <div className=\"band-score\" style={{borderLeftColor: getBandColor(testSummary?.part2Band)}}>\n                <span>Part 2 Band</span>\n                <span>{testSummary?.part2Band || '-'}</span>\n              </div>\n              <div className=\"band-score\" style={{borderLeftColor: getBandColor(testSummary?.part3Band)}}>\n                <span>Part 3 Band</span>\n                <span>{testSummary?.part3Band || '-'}</span>\n              </div>\n              <div className=\"band-score overall\">\n                <span>Overall Band</span>\n                <span>{testSummary?.overallBand || '-'}</span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"band-chart-wrapper\" style={{maxWidth: '450px', margin: '30px auto'}}>\n            <Bar data={bandData} options={{\n              scales: { y: {min: 0, max: 9, ticks: {stepSize: 0.5} }},\n              plugins: {legend: {display: false}}\n            }} />\n          </div>\n\n          <button className=\"btn btn-primary export-pdf-btn\" onClick={() => {\n            if(!testSummary) return;\n            const doc = new jsPDF();\n            doc.setFontSize(18);\n            doc.text('IELTS Speaking Test Feedback', 10, 10);\n            doc.setFontSize(14);\n            doc.text(`Part 1 Band: ${testSummary.part1Band}`, 10, 30);\n            doc.text(`Part 2 Band: ${testSummary.part2Band}`, 10, 40);\n            doc.text(`Part 3 Band: ${testSummary.part3Band}`, 10, 50);\n            doc.text(`Overall Band: ${testSummary.overallBand}`, 10, 60);\n\n            feedbacks?.forEach((fb, i) => {\n              let y = 70 + i*30;\n              doc.text(`Q${i + 1}: ${fb.question}`, 10, y);\n              doc.text(`Your Answer: ${fb.answer}`, 10, y + 10);\n              doc.text(`Feedback: ${fb.feedback}`, 10, y + 20);\n              const sample = sampleAnswers.find(sa => sa.question === fb.question)?.sample;\n              if(sample) {\n                doc.text(`Sample Answer: ${sample}`, 10, y + 30);\n              }\n              if(y > 270) {\n                doc.addPage();\n                y = 20;\n              }\n            });\n\n            doc.save('IELTS-Speaking-Feedback.pdf');\n          }}>Export Feedback as PDF</button>\n\n          <div className=\"detailed-feedback\">\n            {feedbacks?.map((fb, i) => (\n              <div key={i} className=\"feedback-section\">\n                <h4>Question {i + 1}: {fb.question}</h4>\n                <p><strong>Your Answer:</strong> {fb.answer}</p>\n                <p><strong>Feedback:</strong> {fb.feedback}</p>\n                <p className=\"sample-answer\"><strong>Sample Answer:</strong> {sampleAnswers.find(sa => sa.question === fb.question)?.sample || \"Sample answer coming soon.\"}</p>\n              </div>\n            ))}\n          </div>\n\n          <button className=\"btn btn-secondary retake-btn\" onClick={() => {\n            setShowResults(false);\n            setFeedbacks(null);\n            setTestSummary(null);\n            setCurrentQuestionIndex(0);\n            setAnswers(Array(currentTest.totalQuestions).fill(''));\n            setCurrentPart(1);\n          }}>Retake Test</button>\n        </div>\n      )}\n\n    </div>\n  );\n}\n\nexport default SpeechEvaluator;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}